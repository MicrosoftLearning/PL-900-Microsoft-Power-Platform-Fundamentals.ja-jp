---
lab:
  title: 'ラボ 5:モデル駆動型アプリを作成する'
  learning path: 'Learning Path: Demonstrate the capabilities of Microsoft Power Apps'
  module: 'Module 3: Build a model-driven app'
---
## 学習の目的

この演習では、学習者は Copilot を使用し、Power Apps でモデル駆動型アプリを作成します。 データ モデルを定義し、フォームとビューを変更し、アプリケーションを作成します。

**このラボを完了すると、次のことができるようになります。**

-   モデル駆動型アプリケーションを構築する。
-   ニーズに合わせてアプリケーション内のフォームとビューを変更する。
-   モデル駆動型アプリケーション内をナビゲートする。

### シナリオ

Contoso Consulting は、IT および AI コンサルティング サービスに特化したプロフェッショナル サービス組織です。 彼らは一年を通じて顧客にさまざまなイベントを提供しています。 これらのイベントの中には、多くのパートナーが参加して新製品、市場動向、サービスに関する詳細情報を提供する展示会形式のイベントもあります。 その他、年間を通じて、個々の製品に関する詳細情報を提供する短いウェビナーも開催されています。

Contoso は、Power Platform を使用して、年間を通じて開催するさまざまなイベントを管理するために使用できるイベント管理ソリューションを構築したいと考えています。

この演習では、Contoso のイベントを管理するモデル駆動型アプリケーションを構築しています。 モデル駆動型アプリケーションは既存のデータ モデルに基づいており、イベント、イベント セッション、セッションの登録が含まれます。

### ラボの詳細:

この演習を始める前に、以下を完了しておくことをお勧めします。

-   **ラボ 1 - ソリューションを作成する**
-   **ラボ 2 - データ モデルを作成する**

この演習の推定所要時間は **20 から 30** 分です。

## タスク 1:新しいモデル駆動型アプリケーションをサポートするデータ モデルを作成する

Contoso では、現在、連絡先情報を Dataverse インスタンスに格納しているため、Dataverse を使用してコースとコースの登録を追跡したいと考えています。 アプリケーションをサポートするために必要なテーブルを作成し、そのデータ モデルに基づいてモデル駆動型アプリケーションを構築する必要があります。

1.  必要に応じて、Web ブラウザーを開いて [Power Apps](https://make.powerapps.com/) Maker Portal に移動し、Microsoft アカウントの資格情報を使用してサインインします。
2.  左側のナビゲーションを使用して、**[ソリューション]** を選択します
3.  先ほど作成した**イベント管理**ソリューションを開きます。
4.  **コマンド バー**で、**[新規]**\>**[アプリ]**\>**[モデル駆動型アプリ]** を選択します。
5.  **[作成]** セクションを選択します。
    -   **名前:** Contoso Event Management
    -   **説明:** イベントとイベント セッションを管理するために使用されます。
6.  **[作成]** ボタンを選択します **。**
7.  **[ページの追加]** ボタンを選択し、**[Dataverse テーブル]** を選択します。
8.  次のテーブルを選択します。
    -   お問い合わせ先
    -   イベント
    -   イベント セッション
    -   Session Registration
9.  **[ナビゲーションに表示]** が選択されていることを確認します。

![テーブルの選択ダイアログを表示するスクリーンショット。](media/bb46dc856d2939af9c55bdc0303b8a27.png)

10. **[Add]** ボタンを選択します。

> **注:**  デザイナーを使用していると、サインインを求められることがあります。 [X] を選択してサインイン画面を閉じます。

## タスク 2:ニーズに合わせてモデル駆動型アプリケーションを編集する

アプリが作成されたので、アプリケーションの表示方法にいくつか変更を加えます。 People と Events という 2 つのグループを作成します。 People グループに Contacts テーブル、Events グループにすべての Event テーブルを含めます。

1.  画面の左側にある **[ナビゲーション]** で、**[新しいグループ]** を選択します。
2.  アプリケーションの右側にある **[プロパティ]** パネルを展開します。
3.  **[タイトル]** を「**新しいグループ**」から「**People**」に変更します。

    ![グループ名を変更するスクリーンショット。 ](media/82b6d0cdc4fdbaf4a9eaf2d1f82e972f.png)

4.  **People** グループの **[省略記号]** を選択します。
5.  **[新しいグループ]** を選択します。
6.  **[プロパティ]** ペインで、グループの名前を「**新しいグループ**」から「**Events**」に変更します。
7.  左側の **Session Registrations ビュー**にカーソルを合わせ、**[省略記号]** を選択して **[下に移動]** を選択し、**Sessions Registrations** を **Events** グループに移動します。
8.  左側の **Event Sessions** ビューにカーソルを合わせ、**[省略記号]** を選択して **[下に移動]** を選択し、**Event Sessions** を **Events** グループに移動します。
9.  左側の **Events** ビューにカーソルを合わせ、**[省略記号]** を選択して **[下に移動]** を選択し、**Events** を **Events** グループに移動します。

アプリは次の画像のようになります。

![更新されたサイト マップを示すスクリーンショット](media/ff039cad105533933959854cec4ec95e.png)

## タスク 3:モデル駆動型アプリケーション内のさまざまなフォームとビューを編集する

モデル駆動型アプリケーションは、ユーザー インターフェイス (UI) でフォームとビューを使用して、ユーザーにデータを提示します。 このような項目にいくつか変更を加えます。

1.  必要に応じて、**Contoso Event Management** アプリをデザイナーで開いておきます。
2.  画面の左側にある **People** グループの下にある **Contacts form** にカーソルを合わせ、**[編集]** を選択します。

    変更を保存するように求められたら、**[保存して続行]** を選択します。

3.  左側の **[テーブル列]** にある **[新しいテーブル列]** を選択します。
4.  テーブル列を次のように構成します。
    -   **[表示名]:** Contact Type
    -   **データ型:** 選択肢
    -   **グローバルな選択肢と同期する:** いいえ
5.  最初の選択肢の **[ラベル]** を **Speaker** に設定します。
6.  **[+ 新しい選択肢]** を選択し、ラベルを「**Participant**」に設定します。
7.  **[+ 新しい選択肢]** を選択し、ラベルを「**Support Staff**」に設定します。

![Contact Type 列のスクリーンショット。](media/b1982b779d91cf134b41b6f445b8f07c.png)

8.  **[保存]** ボタンを選択します。
9.  マウスを使用して、"**New Contact**" テキストを選択し、フォーム ヘッダーを選択します。 (ヘッダーの周囲に紫色の四角形が表示されます)**
10. **[テーブル列]** の **[検索]** フィールドに「**Contact**」と入力します。
11. 先ほど作成した **Contact Type** テーブル列を選択します。
12. **[Contact Type]** が **[ヘッダー]** に表示されるようになりました。

![フォーム上の [Contact Type] フィールドを示すスクリーンショット。](media/4debe7a09e460f79c1cb05a6824dad66.png)

13. フォームの**コマンド バー**で、**[保存して発行]** ボタンを選択します。
14. **[戻る] 矢印**ボタンを選択して、モデル駆動型アプリケーション デザイナーに戻ります
15. 左側の **[ナビゲーション]** で、**Contacts ビュー**にカーソルを合わせ、**[編集]** アイコンを選択します。 (保存するように求められたら、**[保存して続行]** を選択します)
16. **[+ 列の表示]** を選択します。
17. **Contact Type** 列を検索してビューに追加します。
18. **保存して公開**ボタンを選択します。
19. **[戻る] 矢印**ボタンを選択して、モデル駆動型アプリケーション デザイナーに戻ります。

次に、残りのフォームに必要な変更を加えます。

20.  **[ナビゲーション]** で、**[Events ビュー]** を選択します。
    
**EventDetails1** 列が存在する可能性があることに注意してください。 その場合は、ビューから削除します。 (ない場合は、「タスク 4: ***保存して発行する」に進んでください)***

21.  **Events ビュー**にカーソルを合わせ、**[編集]** ボタンを選択します。

変更を **[保存]** するように求められたら、**[保存して続行]** を選択します。

22.  **[表示]** で **EventDetails1** の横にある矢印を選択し、表示されるメニューから **[削除]** を選択します。

![ビューから余分な列を削除する方法を示すスクリーンショット。](media/f0f1484a4f3a679abc18cdb1cd5c04da.png)

23.  **保存して公開**ボタンを選択します。
24.  **[戻る] 矢印**ボタンを選択して、アプリ デザイナーに戻ります。
25.  **[ナビゲーション]** の下にある **Events** **フォーム**にカーソルを合わせ、**[編集]** を選択します。

変更を保存するように求められたら、**[保存して続行]** を選択します。

26.  **[Event Details1]** フィールドを選択し、キーボードの **[削除]** キーを押します。

フォームは次の画像のようになります。

![余分な列が削除された後の更新されたイベント フォームを示すスクリーンショット。 ](media/d9e8903c79b01e85e32c6ef5279a2ad5.png)

完全に一致していなくても、画像内のフィールドがすべて存在していれば問題ありません。  

27.  **[保存して発行]** ボタンを選択します。
28.  **[戻る] 矢印**ボタンを選択して、アプリ デザイナーに戻ります。

## タスク 4:保存して発行する (フォームに EventDetail1 フィールドがない場合は、ここから続行します。)

1.  アプリの**コマンド** バーで、**[保存して発行]** ボタンを選択します。
2.  **[戻る]** ボタンを選択して、**Event Management** ソリューションに戻ります。
3.  **[ソリューションに戻る]** 矢印を選択してメインの **Power Apps** Maker Portal に戻ります。
4.  **[戻る]** 矢印を選択して、メインの **Power Apps** 画面に戻ります。

## タスク 5:新しいアプリケーションをテストする

モデル駆動型アプリケーションが作成されたので、その機能をテストします。

まず、連絡先をいくつか追加します。

1.  左側のナビゲーションを使用して、 **[アプリ]** を選択します。
2.  表示されるアプリを **[マイ アプリ]** から **[すべて]** に変更します。
3.  先ほど作成した **Event Management** アプリケーションにカーソルを合わせ、**[再生]** アイコンを選択します。
4.  左側のナビゲーションを使用して、**[Contacts]** を選択します。
5.  **コマンド** バーで、**[+ 新規]** ボタンを選択します。
6.  **[New Contact]** 画面で、次のように構成します。
    -   **First Name (名):** Suzanne
    -   **Last Name (姓):** Diaz.
    -   **役職:** エンジニア
7.  フォーム ヘッダーで、**[Contact Type]** の横にある下矢印を選択します。
8.  **[Contact Type]** を **[Speaker]** に設定します。

![フォームの [Contact Type] フィールドを設定する方法を示すスクリーンショット。](media/0860116a9b7df096c14728212b9977b1.png)

9.  **[保存]** ボタンを選択して連絡先を保存し、開いたままにしておきます。
10. **[+ 新規]** をクリックします。
11. **[New Contact]** 画面で、次のように構成します。
    -   **First Name (名):** Edgar
    -   **Last Name (姓):** Swenson
    -   **役職:** アーキテクト
    -   **メール アドレス:** メール アドレスを入力します (必ず**自分の**メール アドレスを追加してください。)
12. フォーム ヘッダーで、**[Contact Type]** の横にある下矢印を選択します。
13. **[Contact Type]** を **[Participant]** に設定します。
14. **[保存して閉じる]** ボタンを選択します。

次に、新しいイベントを追加します。

15.  左側のナビゲーションを使用して、**[Events]** を選択します。
16.  コマンド バーで、**[+ 新規]** ボタンを選択します。
17.  **[New Event]** 画面で、次のように構成します。
- **Event Name:** Spring conference.
- **Event Date:** Tomorrow’s date.
- **Max Attendees:** 500
- **Event Details:** Spring conference to showcase newest products and services from our supported vendors.
- **Event Type:** カンファレンス
- **場所:** シアトル
- **Registration Required:** はい/True

![完成した Event フォームのスクリーンショット。 ](media/802f68c4c34c635eeff620a23d42acd8.png)

18.  **[保存して閉じる]** ボタンを選択します。

次に、Event に新しいセッションを追加します。

19.  左側のナビゲーションを使用して、**[Event Sessions]** を選択します。
20.  **[+ 新規]** をクリックします。
21.  次のように **[Event Session]** を構成します。
- **Session Name:** 責任ある AI
- **Session Date:** Tomorrow’s Date
- **期間:** 1.5 Hours
- **Session Description:** With all the new AI solutions, being responsible is important. We will discuss the challenges.
- **Speaker:** Suzanne Diaz
- **イベント:** Spring Conference

![完成した [Event Session] フォームのスクリーンショット。 ](media/6e509e4a29e6f253b5db3b4c9f82e42e.png)

22.  **[保存して閉じる]** ボタンを選択します。

最後に、**Session Registration** を作成します。

23.  左側のナビゲーションを使用して、**[Session Registrations]** を選択します。
24.  **コマンド バー**で、**[+ 新規]** を選択します。
25.  次のようにセッションの登録を完成させます。
- **Registration Name:** E, Swenson Registration.
- **所有者:** そのままにします
- **Registration Date:** 今日の日付
- **Special Instructions:** No Gluten
- **Participant:** Edgar Swenson
- **Event Session:** 責任ある AI

![完成した [Session Registration] フォームのスクリーンショット。  ](media/Session-registration-form.png)

26.  **[保存して閉じる]** ボタンを選択します。
